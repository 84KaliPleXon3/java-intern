{
	"suites": [
		"_tests/tests/unit/**/*.js",
		"_tests/tests/benchmark/example.js"
	],
	"benchmark": false,
	"functionalSuites": "_tests/tests/functional/**/*.js",
	"browserLoader": {
		"script": "systemjs",
		"config": {
			"baseURL": "/node_modules",
			"paths": {
				"src": "/_build/src",
				"_tests": "/_tests"
			},
			"map": {
				"url": "@node/url",
				"fs": "@node/fs",
				"path": "@node/path",
				"jszip": "@node/jszip",
				"http": "@node/http",
				"https": "@node/http",
				"zlib": "@node/zlib"
			},
			"packageConfigPaths": [
				"/node_modules/*/package.json",
				"/node_modules/@dojo/*/package.json"
			],
			"packages": {
				"src": { "defaultExtension": "js" },
				/* Force benchmark to be handled as CJS instead of AMD */
				"benchmark": { "format": "cjs" },
				/* Some tests are incorrectly detected as 'global' */
				"_tests": { "format": "cjs" }
			}
		}
	},
	"internPath": "_tests/src",
	"filterErrorStack": true,
	"browserPlugins": "_tests/tests/pre.js",
	"excludeInstrumentation": "(?:node_modules|_tests)",

	"configs": {
		/* For running local selenium tests */
		"wd": {
			"tunnel": "selenium",
			"environments": "chrome"
		},
		/* For running tests on Travis */
		"ci": {
			"tunnel": "browserstack",
			"maxConcurrency": 2,
			"environments": [
				{ "browser": "internet explorer", "version": [ "10", "11" ] },
				{ "browser": "firefox", "version": [ "33", "latest" ], "platform": [ "WINDOWS", "MAC" ] },
				{ "browser": "chrome", "version": [ "38", "latest" ], "platform": [ "WINDOWS", "MAC" ] },
				{ "browser": "safari", "version": [ "9", "10" ] }
			]
		},
		/* For trying out the browser runner */
		"browser": {
			"suites": [
				"_tests/tests/unit/lib/Environment.js",
				"_tests/tests/unit/lib/BenchmarkTest.js"
			]
		}
	}
}
